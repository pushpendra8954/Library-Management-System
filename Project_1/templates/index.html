{% extends 'base.html' %} 
{% block title %} Home {% endblock title %}
{%block body%}
{%load static%}
<link rel="stylesheet" href="{% static 'carousel.css' %}">
<link rel="stylesheet" href="{% static 'style2.css' %}">
<link href="/docs/5.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
<script src="/docs/5.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-u1OknCvxWvY5kfmNBILK2hRnQC3Pr17a+RTT6rIHI7NnikvbZlHgTPOOmMi466C8" crossorigin="anonymous"></script>
<main>
  <div id="myCarousel" class="carousel slide" data-bs-ride="carousel">
    <div class="carousel-indicators">
      <button type="button" data-bs-target="#myCarousel" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
      <button type="button" data-bs-target="#myCarousel" data-bs-slide-to="1" aria-label="Slide 2"></button>
      <button type="button" data-bs-target="#myCarousel" data-bs-slide-to="2" aria-label="Slide 3"></button>
    </div>
    <div class="carousel-inner">
      <div class="carousel-item active">
        <img src="/static/li-3.jpg" alt="..." class="container-fluid">
        <svg class="bd-placeholder-img" width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" preserveAspectRatio="xMidYMid slice" focusable="false"><rect width="100%" height="100%" fill="#751c1c"/></svg>
        

        <div class="container">
          <div class="carousel-caption text-start">
          </div>
        </div>
      </div>
      <div class="carousel-item">
        <img src="/static/li-2.jpg" alt="..." class="container-fluid">
        <svg class="bd-placeholder-img" width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" preserveAspectRatio="xMidYMid slice" focusable="false"><rect width="100%" height="100%" fill="#777"/></svg>

        <div class="container">
          <div class="carousel-caption">
          </div>
        </div>
      </div>
      <div class="carousel-item">
        <img src="/static/paul.jpg" alt="..." class="container-fluid">
        <svg class="bd-placeholder-img" width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" preserveAspectRatio="xMidYMid slice" focusable="false"><rect width="100%" height="100%" fill="#777"/></svg>

        <div class="container">
          <div class="carousel-caption text-end">
          </div>
        </div>
      </div>
    </div>
    <button class="carousel-control-prev" type="button" data-bs-target="#myCarousel" data-bs-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Previous</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#myCarousel" data-bs-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Next</span>
    </button>
  </div>


  <!-- Marketing messaging and featurettes
  ================================================== -->
  <!-- Wrap the rest of the page in another container to center all the content. -->

  <div class="container marketing">
    <h1 style="margin-top:-20px">Today's Featured</h1>
    <hr>

    <!-- Three columns of text below the carousel -->
    <div class="row">
      <div class="col-lg-4">
        <svg class="bd-placeholder-img rounded-circle" width="140" height="140" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: 140x140" preserveAspectRatio="xMidYMid slice" focusable="false"><img src='/media/{{book.0.image}}' class="img-thumbnail rounded mx-auto d-block" style="margin-top:-120px;height:272px;width:202px" alt="..."></svg>
        <h3 class="fw-normal" id="namepr{{book.0.book_id}}">{{book.0.book_name}}</h3>
        <p>Book ISBN-{{book.0.book_isbn}}</p>
        <p style="margin-top:-10px">Publishing Date-{{book.0.pub_date}}</p>
        <p style="margin-top:-10px">{{book.0.book_des}}</p>
        <p style="margin-top:-10px">Rental Price-<span id="pricepr{{book.0.book_id}}">{{book.0.book_price}}<span>Rs./Day</p>
        <span id="divpr{{book.0.book_id}}" class="divpr">
        <p><button id="pr{{book.0.book_id}}" class="btn btn-secondary cart">Buy On Rent &raquo;</button></p>
        </span>
      </div><!-- /.col-lg-4 -->
      <div class="col-lg-4">
          <svg class="bd-placeholder-img rounded-circle" width="140" height="140" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: 140x140" preserveAspectRatio="xMidYMid slice" focusable="false"><img src='/media/{{book.1.image}}' class="img-thumbnail rounded mx-auto d-block" style="margin-top:-120px;height:272px;width:202px" alt="..."></svg>
        <h3 class="fw-normal" id="namepr{{book.1.book_id}}">{{book.1.book_name}}</h3>
        <p>Book ISBN-{{book.1.book_isbn}}</p>
        <p style="margin-top:-10px">Publishing Date-{{book.1.pub_date}}</p>
        <p style="margin-top:-10px">{{book.1.book_des}}</p>
        <p style="margin-top:-10px">Rental Price-<span id="pricepr{{book.1.book_id}}">{{book.1.book_price}}<span>Rs./Day</p>
        <span id="divpr{{book.1.book_id}}" class="divpr">
        <p><button id="pr{{book.1.book_id}}" class="btn btn-secondary cart">Buy On Rent &raquo;</button></p>
      </span>
      </div><!-- /.col-lg-4 -->
      <div class="col-lg-4">
        <svg class="bd-placeholder-img rounded-circle" width="140" height="140" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: 140x140" preserveAspectRatio="xMidYMid slice" focusable="false"><img src='/media/{{book.2.image}}' class="img-thumbnail rounded mx-auto d-block" style="margin-top:-120px;height:272px;width:202px" alt="..."></svg>
        <h3 class="fw-normal" id="namepr{{book.2.book_id}}">{{book.2.book_name}}</h3>
        <p>Book ISBN-{{book.2.book_isbn}}</p>
        <p style="margin-top:-10px">Publishing Date-{{book.2.pub_date}}</p>
        <p style="margin-top:-10px">{{book.2.book_des}}</p>
        <p style="margin-top:-10px">Rental Price-<span id="pricepr{{book.2.book_id}}">{{book.2.book_price}}<span>Rs./Day</p>
        <span id="divpr{{book.2.book_id}}" class="divpr">
        <p><button id="pr{{book.2.book_id}}" class="btn btn-secondary cart">Buy On Rent &raquo;</button></p>
      </span>
      </div><!-- /.col-lg-4 -->
    </div><!-- /.row -->


    <!-- START THE FEATURETTES -->

    <hr class="featurette-divider">

    <div class="row featurette">
      <div class="col-md-7">
        <h2 class="featurette-heading fw-normal lh-1">Computer Science Books. <span class="text-muted">Books For Future Engineers</span></h2>
        <p class="lead">Programming,Data Structures And Algorithms,Cyber Security,Software Engineering And Many More...</p>
        <p><a class="btn btn-primary" href="/science">Explore More &raquo;</a></p>
      </div>
      <div class="col-md-5">
        <svg class="bd-placeholder-img bd-placeholder-img-lg featurette-image img-fluid mx-auto" width="500" height="500" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: 500x500" preserveAspectRatio="xMidYMid slice" focusable="false"><img src="/static/cs.jpg" style="margin-top:-500px;height:400px;width:500px"></svg>

      </div>
    </div>

    <hr class="featurette-divider">

    <div class="row featurette">
      <div class="col-md-7 order-md-2">
        <h2 class="featurette-heading fw-normal lh-1">Agriculture Books. <span class="text-muted">A Wide Collection Of Agriculture Books.</span></h2>
        <p class="lead">Livestock production,Crop production,Agricultural economics,Agricultural engineering And Many More...</p>
        <p><a class="btn btn-primary" href="/agr">Explore More &raquo;</a></p>
      </div>
      <div class="col-md-5 order-md-1">
        <svg class="bd-placeholder-img bd-placeholder-img-lg featurette-image img-fluid mx-auto" width="500" height="500" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: 500x500" preserveAspectRatio="xMidYMid slice" focusable="false"><img src="/static/Agriculture.jpg" style="margin-top:-500px;height:400px;width:500px"></svg>

      </div>
    </div>
    <hr class="featurette-divider">
    <div class="row featurette">
      <div class="col-md-7">
        <h2 class="featurette-heading fw-normal lh-1">Science Books. <span class="text-muted">Books For The Science Students</span></h2>
        <p class="lead">Quantum Physics,Organic Chemistry,Biology And Many More...</p>
        <p><a class="btn btn-primary" href="/mng">Explore More &raquo;</a></p>
      </div>
      <div class="col-md-5">
        <svg class="bd-placeholder-img bd-placeholder-img-lg featurette-image img-fluid mx-auto" width="500" height="500" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: 500x500" preserveAspectRatio="xMidYMid slice" focusable="false"><img src="/static/science.jpg" style="margin-top:-500px;height:400px;width:500px"></svg>

      </div>
    </div>

    <hr class="featurette-divider">

    <!-- /END THE FEATURETTES -->

  </div><!-- /.container -->
</main>
{%endblock body%}
{% block js %}
<script>
  if(localStorage.getItem('cart')==null)
  {
    var cart={};
  }
  else
  {
    cart = JSON.parse(localStorage.getItem('cart'));
    updateCart(cart);
  }
  $('.divpr').on('click', 'button.cart', function() {
    var idstr=this.id.toString();
    if(cart[idstr]!=undefined)
    {
      qty=cart[idstr][0]+1;
      console.log(cart)
    }
    else
    {
      qty=1;
      name=document.getElementById('name'+idstr).innerHTML;
      price=document.getElementById('price'+idstr).innerHTML;
      cart[idstr]=[qty,name,parseInt(price)];
      console.log(cart)
    }
    updateCart(cart);
  });
  function updateCart(cart)
  {
    var sum=0;
    for(var item in cart)
    {
      sum=sum+cart[item][0];
    }
    localStorage.setItem('cart',JSON.stringify(cart));
    document.getElementById('cart').innerHTML=sum;
  }
</script>
{% endblock %}